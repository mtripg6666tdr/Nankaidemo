////////////////////////////
// NANKAIDEMO Web App JavaScript Source Code (Minimized)
// 
// Copyright (c) 2016-2020 mtripg6666tdr All Rights Reserved.
// 
// App Name:   Nankaidemo 何回でも
// App Url:    index.html
// App Author: mtripg6666tdr
//
// Twitter:    @mtripg6666tdr
////////////////////////////
var NANKAIDEMO_LOOP_COUNT_PREVIOUS="nankaidemo_loopcount_previous_setting";var NANKAIDEMO_LOOP_ORIGINAL_TEXT_PREVIOUS="nankaidemo_loop_original_text_previous";var NANKAIDEMO_EASYSELECTOR_CUSTOMIZE_DATA="nankaidemo_easySelector_customize_data";var EasyInputSelectorDataDefault=["ここから選択して簡単入力","w","笑","泣","(笑)","(泣)","(´^ω^｀)","寂しい","助けて","死ね","ﾀﾋね","生きて","好き","大好き"];var EasyInputSelectorDataCustomize=[];var EasyInputSelectorData=EasyInputSelectorDataDefault.slice(0,EasyInputSelectorDataDefault.length);var Run=function(){if(!CanUseJQuery()){window.alert("jQueryが使えません。管理者にお問い合わせください。")}$(document).ready(function(){MapMainContent();var d=localStorage.getItem(NANKAIDEMO_EASYSELECTOR_CUSTOMIZE_DATA);if(d!==null){EasyInputSelectorDataCustomize=JSON.parse(d).main;EasyInputSelectorData=EasyInputSelectorData.concat(EasyInputSelectorDataCustomize)}var c=localStorage.getItem(NANKAIDEMO_LOOP_COUNT_PREVIOUS);$("input#loop-count").val(c===undefined||c===null?"500":c).on("change",function(){localStorage.setItem(NANKAIDEMO_LOOP_COUNT_PREVIOUS,this.value)});var b=localStorage.getItem(NANKAIDEMO_LOOP_ORIGINAL_TEXT_PREVIOUS);$("input#original-text").val(b===undefined||b===null?"":b);for(var a=0;a<EasyInputSelectorData.length;a++){$("select#easy-input").append($("<option></option>").val(a.toString()).text(EasyInputSelectorData[a]))}})};var CanUseJQuery=function(){return window.jQuery};var MapMainContent=function(){$("div#main_app *").remove();$("div#main_app").append($("<input>").attr("type","text").attr("placeholder","繰り返す文字列").attr("id","original-text").css("width","98%")).append($("<span></span>").text("を")).append($("<input>").attr("type","number").attr("id","loop-count").attr("min","1").val(500)).append($("<span></span>").text("回だけ繰り返す。")).append($("<br>")).append($("<span></span>").text("★簡単入力")).append($("<select></select").attr("id","easy-input").on("change",function(){$("input#original-text").val(EasyInputSelectorData[this.value]);this.value=0})).append($("<div></div>").attr("id","customize-background").css("position","fixed").css("width","100%").css("height","100%").css("top","0px").css("left","0px").css("background-color","rgba(0,0,0,0.4)").css("z-index","100000").css("display","none").on("click",function(){CustomizeDialogClose()})).append($("<div></div>").attr("id","customize-dialog").css("position","fixed").css("width","80%").css("height","80%").css("top","10%").css("right","10%").css("background-color","white").css("box-shadow","5px 5px 5px black").css("z-index","100001").css("display","none").append($("<div></div>").attr("id","customize-dialog-titlebar").css("background-color","rgba(200,200,200,1.0)").append($("<p></p>").text("カスタマイズ").addClass("readonly").css("display","inline")).append($("<button></button>").attr("type","button").text("×").css("background-color","red").css("color","white").css("float","right").on("click",function(){CustomizeDialogClose()}))).append($("<hr>").css("margin","0px")).append($("<p></p>").text("簡単入力に追加されている文字列")).append($("<p></p>").text("●文字列を押下して削除できます")).append($("<div></div>").css("width","100%").css("height","75%").append($("<div></div>").attr("id","strList").attr("data-modified","false").css("border","1px solid black").css("float","left").css("width","40%").css("height","100%").css("overflow-y","scroll").append($("<ul></ul>").attr("id","words"))).append($("<div></div>").css("float","left").css("width","58%").css("height","100%").append($("<input>").attr("type","text").attr("placeholder","登録する文字列を入力...").attr("id","addCustomizeString").css("width","95%").css("float","right").css("margin-top","5px")).append($("<button></button>").attr("type","button").text("登録").css("float","right").on("click",function(){if($("#addCustomizeString").val()===""){window.alert("登録する文字列が空白です。\r\n正しく入力してください。");return}if(EasyInputSelectorDataCustomize.includes($("#addCustomizeString").val())){window.alert("登録しようとしている文字列はすでに登録されています。");return}EasyInputSelectorDataCustomize.push($("#addCustomizeString").val());MapEasyInputSelectorCostomizeDialog();$("#addCustomizeString").val("");$("div#strList").attr("data-modified","true")}))))).append($("<a></a>").attr("href","javascript: void(0)").text("カスタマイズ").css("font-size","80%").on("click",function(){$("div#customize-background").fadeIn();$("div#customize-dialog").fadeIn();MapEasyInputSelectorCostomizeDialog();return false})).append($("<br>")).append($("<div></div>").css("display","block").css("margin","0px auto").css("width","95%").css("border","1px black solid").append($("<p></p>").append($("<small></small>").text("オプション").css("text-decoration","underline"))).append($("<input>").attr("type","checkbox").attr("id","necessary_wrap")).append($("<label></label>").addClass("readonly").attr("for","necessary_wrap").text("ひとつずつ改行する"))).append($("<div></div>").css("display","block").css("width","98%").css("margin-top","10px").css("margin-bottom","10px").append($("<button></button>").attr("type","button").addClass("readonly").text("実行").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","50px").css("padding-left","50px").css("color","white").css("border-radius","15px").css("margin","0px auto").css("display","block").css("font-size","120%")).on("click",function(){var f=$("input#original-text").val();var c=$("input#loop-count").val();if(c===undefined){window.alert("回数を正しく入力してください");return}var b=Number(c);var e=$("input#necessary_wrap").prop("checked")?"\r\n":"";var a="";for(var d=0;d<b;d++){a+=f+e}$("textarea#output-text").text(a);localStorage.setItem(NANKAIDEMO_LOOP_ORIGINAL_TEXT_PREVIOUS,f)})).append($("<textarea></textarea>").attr("placeholder","ここに文字列が表示されます").attr("readonly",true).attr("id","output-text").css("display","block").css("width","98%").css("margin","0px auto").css("min-height","150px").css("height","30%")).append($("<button></button>").attr("type","button").text("選択").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){var a=document.getElementById("output-text");a.focus();a.select()})).append($("<button></button>").attr("type","button").text("コピー").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){var a=document.getElementById("output-text");a.focus();a.select();document.execCommand("copy")})).append($("<button></button>").attr("type","button").text("ツイート").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){var a="https://twitter.com/intent/tweet?text=";a+=encodeURI($("textarea#output-text").text());window.open(a,"_blank")})).append($("<button></button>").attr("type","button").text("TwitterでDM").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){var a="https://twitter.com/messages/compose?text=";a+=encodeURI($("textarea#output-text").text());window.open(a,"_blank")})).append($("<button></button>").attr("type","button").text("メール").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){var a="mailto:?body=";a+=encodeURI($("textarea#output-text").text());window.open(a,"_blank")})).append($("<button></button>").attr("type","button").text("これを繰り返す↑").css("background-color","gray").css("padding-top","10px").css("padding-bottom","10px").css("padding-right","20px").css("padding-left","20px").css("color","white").css("border-radius","15px").css("font-size","95%").on("click",function(){$("input#original-text").val($("textarea#output-text").text());$("html,body").animate({scrollTop:$("input#original-text").offset().top-$("header").height()})})).append($("<br>")).append($("<a></a>").attr("href","javascript: void(0)").text("入力フォームをリセット").css("font-size","70%").css("margin-right","7px").css("margin-left","7px").on("click",function(){$("input#original-text").val("");$("input#loop-count").val("500");$("input#necessary_wrap").prop("checked",false);$("textarea#output-text").text("")})).append($("<a></a>").attr("href","javascript: void(0)").text("データ消去").css("font-size","70%").css("margin-right","7px").css("margin-left","7px").on("click",function(){if(!window.confirm("データ消去を行うと、前回利用時の繰り返す文字列および回数が消去されます。")){return false}localStorage.removeItem(NANKAIDEMO_LOOP_COUNT_PREVIOUS);localStorage.removeItem(NANKAIDEMO_LOOP_ORIGINAL_TEXT_PREVIOUS);location.reload(true);return false}))};var MapEasyInputSelectorCostomizeDialog=function(){$("ul#words *").remove();for(var a=1;a<EasyInputSelectorDataDefault.length;a++){$("ul#words").append($("<li></li>").text(EasyInputSelectorData[a]))}for(var a=0;a<EasyInputSelectorDataCustomize.length;a++){$("ul#words").append($("<li></li>").append($("<a></a>").attr("href","javascript: void(0);").attr("data-arNumber",a.toString()).text(EasyInputSelectorDataCustomize[a]).on("click",function(){if(!window.confirm('"'+$(this).text()+'"を削除します')){return false}EasyInputSelectorDataCustomize.splice(Number($(this).attr("data-arNumber")),1);MapEasyInputSelectorCostomizeDialog();$("div#strList").attr("data-modified","true");return false})))}};var CustomizeDialogClose=function(){if($("div#strList").attr("data-modified")==="true"){localStorage.setItem(NANKAIDEMO_EASYSELECTOR_CUSTOMIZE_DATA,JSON.stringify({main:EasyInputSelectorDataCustomize}));window.alert("カスタマイズを保存しました");location.reload()}else{$("div#customize-background").fadeOut();$("div#customize-dialog").fadeOut()}};Run();